<html xmlns:concordion="http://www.concordion.org/2007/concordion">
<head>
<title>PPOrder</title>
<link href="./concordion.css" rel="stylesheet" type="text/css" />
</head>
<body>

	<h3>Given a regular PP_Order</h3>

	<p>With an additional ppOrder, we are '''not yet''' expecting an
		additional "Auslagerung per ..." line, nor any additional IC for that
		matter.. That will only happen when the second of two quality
		inspections is also in place</p>

	<p
		concordion:execute="setupPPOrderHeader(#nameDocType,#documentNo,#lotMaterialTracking,#strDate)">
		Given a <span concordion:set="#nameDocType">Produktionsauftrag</span>
		PP_Order with documentNo <span concordion:set="#documentNo">12346</span>,
		materialTracking <span concordion:set="#lotMaterialTracking">1234567890123</span>
		and production date <span concordion:set="#strDate">2015-12-30</span>
	</p>

	<p>
		PP_Order <span concordion:set="#documentNo">12346</span> has the
		following items:
	<table
		concordion:execute="#result = setupPPOrderItems(#documentNo, #strType, #valueProduct, #strQty, #nameReceipt )">
		<tr>
			<th concordion:set="#strType">Type</th>
			<th concordion:set="#valueProduct">Product</th>
			<th>Product-Name (ignored)</th>
			<th concordion:set="#strQty">Qty</th>
			<th concordion:set="#nameReceipt">Receipt</th>
			<th concordion:assertEquals="#result">Item created?</th>
		</tr>
		<tr>
			<td>RawMaterial</td>
			<td>P000370</td>
			<td>Karotten ungewaschen Lager</td>
			<td>450.0</td>
			<td>Receipt1_10</td>
			<td>OK</td>
		</tr>
		<tr>
			<td>MainProduct</td>
			<td>P000363</td>
			<td>Karotten gewaschen</td>
			<td>300.0</td>
			<td></td>
			<td>OK</td>
		</tr>
		<tr>
			<td>CoProduct</td>
			<td>P000367</td>
			<td>Karotten gross gewaschen</td>
			<td>100.0</td>
			<td></td>
			<td>OK</td>
		</tr>
		<tr>
			<td>ByProduct</td>
			<td>P000360</td>
			<td>Futterkarotten</td>
			<td>50</td>
			<td></td>
			<td>OK</td>
		</tr>
	</table>
	</p>

	<h3>quality fields updater</h3>
	<p concordion:execute="updatePPOrderQualityFields(#documentNo)">
		Invoke the quality fields updater for PP_Order <span
			concordion:set="#documentNo">12346</span>
	</p>

	<h3>TODO: verify the quality field values</h3>

</body>
</html>